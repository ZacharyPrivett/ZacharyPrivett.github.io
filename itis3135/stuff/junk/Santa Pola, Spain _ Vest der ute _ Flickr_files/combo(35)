YUI.add("hermes-template-static-content-rail-card",function(t,e){var a=t.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(t,e,a,n,i){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="static-content-rail-card">\n\t<h2 class="title">\n\t\t'+t.escapeExpression((s(a,"intlMessage")||e&&s(e,"intlMessage")||t.hooks.helperMissing).call(null!=e?e:t.nullContext||{},{name:"intlMessage",hash:{intlName:"feed.FLICKR_EDITORIAL"},data:i,loc:{start:{line:3,column:2},end:{line:3,column:50}}}))+'\n\t</h2>\n\n\t<div class="static-content-rail-content-container hidden">\n\t\t\n\t</div>\n\t<div class="dummy-loader">\n\t\t<div class="box" style="height: 140px; width: 100%"></div>\n\t\t<div class="box" style="height: 14px; width: 100%"></div>\n\t\t<div class="box" style="height: 80px; width: 100%"></div>\n\t\t<div class="box" style="height: 14px; width: 80%"></div>\n\t</div>\n</div>\n'},useData:!0}),n={};t.Array.each([],function(e){var a=t.Template.get("hermes/"+e);a&&(n[e]=a)}),t.Template.register("hermes/static-content-rail-card",function(e,i){return i=i||{},i.partials=i.partials?t.merge(n,i.partials):n,a(e,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-static-content-rail-content",function(t,n){var l=t.Template.Handlebars.revive({1:function(t,n,l,e,a){var i,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t\t\t<hr />\n\t\t\t\t<span class="photo-subtitle">\n\t\t\t\t\t'+t.escapeExpression("function"==typeof(i=null!=(i=o(l,"subtitle")||(null!=n?o(n,"subtitle"):n))?i:t.hooks.helperMissing)?i.call(null!=n?n:t.nullContext||{},{name:"subtitle",hash:{},data:a,loc:{start:{line:12,column:5},end:{line:12,column:17}}}):i)+"\n\t\t\t\t</span>\n"},compiler:[8,">= 4.3.0"],main:function(t,n,l,e,a){var i,o,s=null!=n?n:t.nullContext||{},c=t.hooks.helperMissing,r=t.escapeExpression,u=t.lambda,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="static-content-rail-content">\n\t<a class="static-content-photo" href="'+r("function"==typeof(o=null!=(o=p(l,"link")||(null!=n?p(n,"link"):n))?o:c)?o.call(s,{name:"link",hash:{},data:a,loc:{start:{line:2,column:39},end:{line:2,column:47}}}):o)+'" target="_blank"\n\t\tstyle="background-image: url(\''+r(u(null!=(i=null!=n?p(n,"photo"):n)?p(i,"displayUrl"):i,n))+"'); width: "+r(u(null!=(i=null!=n?p(n,"photo"):n)?p(i,"width"):i,n))+"px; height: "+r(u(null!=(i=null!=n?p(n,"photo"):n)?p(i,"height"):i,n))+'px;"\n\t\tdata-link-id="static_content_rail_photo_link">\n\t\t<div class="photo-overlay">\n\t\t\t<span class="photo-title">\n\t\t\t\t'+r("function"==typeof(o=null!=(o=p(l,"title")||(null!=n?p(n,"title"):n))?o:c)?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:7,column:4},end:{line:7,column:13}}}):o)+"\n\t\t\t</span>\n"+(null!=(i=p(l,"if").call(s,null!=n?p(n,"subtitle"):n,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:9,column:3},end:{line:14,column:10}}}))?i:"")+'\t\t\t<span class="photo-attribution">\n\t\t\t\t'+r((p(l,"intlMessage")||n&&p(n,"intlMessage")||c).call(s,{name:"intlMessage",hash:{username:null!=(i=null!=(i=null!=n?p(n,"photo"):n)?p(i,"owner"):i)?p(i,"displayname"):i,intlName:"feed.PHOTO_BY"},data:a,loc:{start:{line:16,column:4},end:{line:16,column:77}}}))+'\n\t\t\t</span>\n\t\t</div>\n\t</a>\n\t\n\t<p class="static-content-description">\n\t\t'+r("function"==typeof(o=null!=(o=p(l,"description")||(null!=n?p(n,"description"):n))?o:c)?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:22,column:2},end:{line:22,column:17}}}):o)+'\n\t</p>\n\t<a class="learn-more-link" href="'+r("function"==typeof(o=null!=(o=p(l,"link")||(null!=n?p(n,"link"):n))?o:c)?o.call(s,{name:"link",hash:{},data:a,loc:{start:{line:24,column:34},end:{line:24,column:42}}}):o)+'" target="_blank" data-link-id="static_content_rail_more_link">'+r((p(l,"intlMessage")||n&&p(n,"intlMessage")||c).call(s,{name:"intlMessage",hash:{intlName:"feed.READ_MORE"},data:a,loc:{start:{line:24,column:105},end:{line:24,column:146}}}))+"</a>\n</div>"},useData:!0}),e={};t.Array.each([],function(n){var l=t.Template.get("hermes/"+n);l&&(e[n]=l)}),t.Template.register("hermes/static-content-rail-content",function(n,a){return a=a||{},a.partials=a.partials?t.merge(e,a.partials):e,l(n,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("static-content-rail-card-view",function(t,e){require("hermes-core/flog")(e);t.namespace("Views")[this.name]=t.Base.create("static-content-rail-card-view",t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e,this.staticContentItem=e.staticContentItem,this.photoSizeHelper=new t.PhotoSizeHelper(this.appContext),this.viewCounter=this.appContext.getViewCounter()},loadState:function(){return t.Promise.resolve()},buildContainer:function(){this.setContainerWithTemplate("static-content-rail-card",{})},activate:function(){var e,i=this,n=this.get("container");return this.isRerender||t.Analytics.sendClick("Rail Card Type: Static Content","Rail Card Loaded"),this.dummyLoaderNode=n.one(".dummy-loader"),this.staticContentContainerNode=n.one(".static-content-rail-content-container"),this.currentContainerWidth=n.get("clientWidth"),this.registerEventHandler(t.globalEvents.subscribe("window:resize",t.betterThrottle(this.handlePageResize.bind(this),1e3,this,!0))),this.staticContentItem&&(e=t.Promise.resolve()),e.then(function(){i.buildLayout()}).then(function(){i.viewCounter.queue(i.staticContentItem.photoData.id,document.location.href),i.dummyLoaderNode.addClass("hidden")})},buildLayout:function(){this.staticContentItem;var t,e,i,n={title:this.staticContentItem.title,subtitle:this.staticContentItem.subtitle,description:this.staticContentItem.description,link:this.staticContentItem.link},o=this.staticContentItem.photoData.sizes,s=this.photoSizeHelper.getPhotoAspectRatio(o);this.staticContentContainerNode.removeClass("hidden"),e=this.staticContentContainerNode.get("clientWidth"),i=this.photoSizeHelper.getSizeToFit(o,{width:e,height:e/s},{includeSquare:!1}),n.photo={displayUrl:i.displayUrl,width:e,height:e/s,owner:this.staticContentItem.photoData.owner},t=this.templates("static-content-rail-content")(n),this.staticContentContainerNode.set("innerHTML",t)},handlePageResize:function(){var t=this.get("container").get("clientWidth");t!==this.currentContainerWidth&&(this.currentContainerWidth=t,this.rerender())},rerender:function(){this.isRerender=!0,this.detachRegisteredEvents(),this.buildContainer(),this.activate()}})},"@VERSION@",{requires:["flickr-view","hermes-template-static-content-rail-card","hermes-template-static-content-rail-content","photo-size-helper"],langBundles:["common","feed"]});YUI.add("hermes-template-prbd-moola-position",function(n,e){var l=n.Template.Handlebars.revive({1:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return' data-aa-targeting="'+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"audienceTargets")||(null!=e?i(e,"audienceTargets"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"audienceTargets",hash:{},data:t,loc:{start:{line:2,column:57},end:{line:2,column:76}}}):o)+'"'},3:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return' data-aa-adIdentity="'+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"advertisingStitching")||(null!=e?i(e,"advertisingStitching"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"advertisingStitching",hash:{},data:t,loc:{start:{line:3,column:58},end:{line:3,column:82}}}):o)+'"'},5:function(n,e,l,a,t){return"upsell-fallback"},7:function(n,e,l,a,t){return'\t\t<a href="/account/upgrade/pro?feed"></a>\n'},9:function(n,e,l,a,t){var o,i=null!=e?e:n.nullContext||{},r=n.hooks.helperMissing,s=n.escapeExpression,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t<p class="upgrade-to-pro-cta"><a href="'+s("function"==typeof(o=null!=(o=u(l,"upgradeProLink")||(null!=e?u(e,"upgradeProLink"):e))?o:r)?o.call(i,{name:"upgradeProLink",hash:{},data:t,loc:{start:{line:9,column:40},end:{line:9,column:58}}}):o)+'"">'+s((u(l,"intlMessage")||e&&u(e,"intlMessage")||r).call(i,{name:"intlMessage",hash:{intlName:"common.UPGRADE_PRO_HIDE_ADS"},data:t,loc:{start:{line:9,column:61},end:{line:9,column:115}}}))+"</a></p>\n"},11:function(n,e,l,a,t){var o,i=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return null!=(o=(i(l,"isFlipped")||e&&i(e,"isFlipped")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},"enable-ad-timer-lock",{name:"isFlipped",hash:{},fn:n.program(12,t,0),inverse:n.noop,data:t,loc:{start:{line:12,column:1},end:{line:16,column:15}}}))?o:""},12:function(n,e,l,a,t){var o=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'\t\t<div class="navad-timer-container">\n\t\t\t<p class="navad-timer-text">'+n.escapeExpression((o(l,"intlMessage")||e&&o(e,"intlMessage")||n.hooks.helperMissing).call(null!=e?e:n.nullContext||{},{name:"intlMessage",hash:{adTimerStartCount:null!=e?o(e,"adTimerStartCount"):e,intlName:"common.AD_INTERSTITIAL_TIMER"},data:t,loc:{start:{line:14,column:31},end:{line:14,column:122}}}))+"</p>\n\t\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,e,l,a,t){var o,i,r=null!=e?e:n.nullContext||{},s=n.hooks.helperMissing,u=n.escapeExpression,c=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<div data-aaad="true" data-aa-adunit="'+u("function"==typeof(i=null!=(i=c(l,"adUnit")||(null!=e?c(e,"adUnit"):e))?i:s)?i.call(r,{name:"adUnit",hash:{},data:t,loc:{start:{line:1,column:38},end:{line:1,column:48}}}):i)+'"\n\t'+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||s).call(r,"enable-audience-tgt",{name:"isFlipped",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:1},end:{line:2,column:91}}}))?o:"")+"\n\t"+(null!=(o=(c(l,"isFlipped")||e&&c(e,"isFlipped")||s).call(r,"enable-ad-stitching",{name:"isFlipped",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:3,column:1},end:{line:3,column:97}}}))?o:"")+' class="moola-container '+u("function"==typeof(i=null!=(i=c(l,"class")||(null!=e?c(e,"class"):e))?i:s)?i.call(r,{name:"class",hash:{},data:t,loc:{start:{line:3,column:121},end:{line:3,column:130}}}):i)+" "+(null!=(o=c(l,"if").call(r,null!=e?c(e,"upsellFallback"):e,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:3,column:131},end:{line:3,column:175}}}))?o:"")+'">\n'+(null!=(o=c(l,"if").call(r,null!=e?c(e,"upsellFallback"):e,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:1},end:{line:6,column:8}}}))?o:"")+"</div>\n"+(null!=(o=c(l,"unless").call(r,null!=e?c(e,"showNonUSSticky"):e,{name:"unless",hash:{},fn:n.program(9,t,0),inverse:n.noop,data:t,loc:{start:{line:8,column:0},end:{line:10,column:11}}}))?o:"")+(null!=(o=c(l,"if").call(r,null!=e?c(e,"signedOut"):e,{name:"if",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t,loc:{start:{line:11,column:0},end:{line:17,column:7}}}))?o:"")},useData:!0}),a={};n.Array.each([],function(e){var l=n.Template.get("hermes/"+e);l&&(a[e]=l)}),n.Template.register("hermes/prbd-moola-position",function(e,t){return t=t||{},t.partials=t.partials?n.merge(a,t.partials):a,l(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-ad-rail-card",function(a,e){var r=a.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(a,e,r,t,n){var l,i=a.lookupProperty||function(a,e){if(Object.prototype.hasOwnProperty.call(a,e))return a[e]};return'<div class="ad-rail-card">\n\t<div class="ad-rail-content-container">\n'+(null!=(l=a.invokePartial(i(t,"prbd-moola-position"),e,{name:"prbd-moola-position",hash:{upgradeProLink:null!=(l=null!=e?i(e,"adConfig"):e)?i(l,"upgradeProLink"):l,audienceTargets:null!=(l=null!=e?i(e,"adConfig"):e)?i(l,"audienceTargets"):l,upsellFallback:!0,adUnit:null!=(l=null!=e?i(e,"adConfig"):e)?i(l,"adUnit"):l},data:n,indent:"\t\t",helpers:r,partials:t,decorators:a.decorators}))?l:"")+"\t</div>\n</div>\n"},usePartial:!0,useData:!0}),t={};a.Array.each(["prbd-moola-position"],function(e){var r=a.Template.get("hermes/"+e);r&&(t[e]=r)}),a.Template.register("hermes/ad-rail-card",function(e,n){return n=n||{},n.partials=n.partials?a.merge(t,n.partials):t,r(e,n)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-prbd-moola-position"]});YUI.add("ad-rail-card-view",function(e,a){require("hermes-core/flog")(a);var i=new e.SubscriptionsHelper;e.namespace("Views")[this.name]=e.Base.create("ad-rail-card-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e},loadState:function(){return e.Promise.resolve()},buildContainer:function(){this.setContainerWithTemplate("ad-rail-card",{adConfig:{adUnit:e.config.flickr.moola.positions.feed[6].ad_unit_desktop,audienceTargets:this.appContext.audienceTargets.getAudienceData(),upgradeProLink:i.getProLandingPageUrl(i.UTM_HIDE_ADS)}})},activate:function(){return this.appContext.adManager.processAdsOnPage(),e.Analytics.sendClick("Rail Card Type: Ad","Rail Card Loaded"),e.Promise.resolve()}})},"@VERSION@",{requires:["flickr-view","hermes-template-ad-rail-card","subscriptions-helper"],langBundles:["common","feed"]});YUI.add("hermes-template-feed-rail",function(e,t){var n=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="feed-rail">\n\t<div class="dummy-loader">\n\t\t<div class="box container-box" style="height: 230px"></div>\n\t\t<div class="box container-box" style="height: 400px"></div>\n\t\t<div class="box container-box" style="height: 200px"></div>\n\t</div>\n\n\t<div class="feed-rail-content-container invisible">\n\n\t\t<div class="rail-items-container">\n\t\t\t\n\t\t</div>\n\n\t\t'+e.escapeExpression((l(n,"outlet")||t&&l(t,"outlet")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?l(t,"slim-footer-view"):t,{name:"outlet",hash:{},data:i,loc:{start:{line:14,column:2},end:{line:14,column:29}}}))+"\n\t</div>\n</div>\n"},useData:!0}),a={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(a[t]=n)}),e.Template.register("hermes/feed-rail",function(t,i){return i=i||{},i.partials=i.partials?e.merge(a,i.partials):a,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});