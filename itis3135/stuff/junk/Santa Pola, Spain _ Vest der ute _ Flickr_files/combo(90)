YUI.add("hermes-template-photo-list-description",function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,o,t){return" restricted-image"},3:function(n,l,e,o,t){return" is-video"},5:function(n,l,e,o,t){return" has-descriptions"},7:function(n,l,e,o,t){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(a=n.invokePartial(r(o,"photo-card-overlay-icon"),l,{name:"photo-card-overlay-icon",hash:{type:"video"},data:t,indent:"\t\t\t",helpers:e,partials:o,decorators:n.decorators}))?a:""},9:function(n,l,e,o,t){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<div class="description" title="'+n.escapeExpression(n.lambda(null!=(a=null!=l?r(l,"photo"):l)?r(a,"description"):a,l))+'">\n\t'+(null!=(a=r(e,"if").call(null!=l?l:n.nullContext||{},null!=(a=null!=l?r(l,"photo"):l)?r(a,"description"):a,{name:"if",hash:{},fn:n.program(10,t,0),inverse:n.noop,data:t,loc:{start:{line:15,column:1},end:{line:15,column:83}}}))?a:"")+"\n</div>\n"},10:function(n,l,e,o,t){var a,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return"<p>"+n.escapeExpression((r(e,"photoDescription")||l&&r(l,"photoDescription")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(a=null!=l?r(l,"photo"):l)?r(a,"description"):a,!0,{name:"photoDescription",hash:{},data:t,loc:{start:{line:15,column:29},end:{line:15,column:72}}}))+"</p>"},compiler:[8,">= 4.3.0"],main:function(n,l,e,o,t){var a,r,i=null!=l?l:n.nullContext||{},c=n.hooks.helperMissing,s=n.escapeExpression,u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<a href="'+s("function"==typeof(r=null!=(r=u(e,"linkedPageUrl")||(null!=l?u(l,"linkedPageUrl"):l))?r:c)?r.call(i,{name:"linkedPageUrl",hash:{},data:t,loc:{start:{line:1,column:9},end:{line:1,column:26}}}):r)+'">\n\t<div class="photo'+(null!=(a=u(e,"if").call(i,null!=(a=null!=l?u(l,"photo"):l)?u(a,"needsInterstitial"):a,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:18},end:{line:2,column:73}}}))?a:"")+(null!=(a=u(e,"if").call(i,null!=(a=null!=l?u(l,"photo"):l)?u(a,"isVideo"):a,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:73},end:{line:2,column:110}}}))?a:"")+(null!=(a=u(e,"if").call(i,null!=l?u(l,"displayDescriptions"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:110},end:{line:2,column:161}}}))?a:"")+'" style="background-image: url(\''+s("function"==typeof(r=null!=(r=u(e,"photoUrl")||(null!=l?u(l,"photoUrl"):l))?r:c)?r.call(i,{name:"photoUrl",hash:{},data:t,loc:{start:{line:2,column:193},end:{line:2,column:205}}}):r)+"');\">\n\t\t\n"+(null!=(a=u(e,"if").call(i,null!=(a=null!=l?u(l,"photo"):l)?u(a,"isVideo"):a,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t,loc:{start:{line:4,column:2},end:{line:6,column:9}}}))?a:"")+"\t</div>\n</a>\n\n\n"+s((u(e,"outlet")||l&&u(l,"outlet")||c).call(i,null!=l?u(l,"photo-list-photo-interaction-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:11,column:0},end:{line:11,column:44}}}))+"\n\n"+(null!=(a=u(e,"if").call(i,null!=(a=null!=l?u(l,"photo"):l)?u(a,"description"):a,{name:"if",hash:{},fn:n.program(9,t,0),inverse:n.noop,data:t,loc:{start:{line:13,column:0},end:{line:17,column:7}}}))?a:"")},usePartial:!0,useData:!0}),o={};n.Array.each(["photo-card-overlay-icon"],function(l){var e=n.Template.get("hermes/"+l);e&&(o[l]=e)}),n.Template.register("hermes/photo-list-description",function(l,t){return t=t||{},t.partials=t.partials?n.merge(o,t.partials):o,e(l,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-photo-card-overlay-icon"]});YUI.add("photo-list-description-view",function(t){t.namespace("Views")[this.name]=t.Base.create(this.name,t.PhotoListSubview,[],{langBundles:this.details.langBundles,subviewConfig:{"photo-list-photo-interaction-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},initializer:function(e){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.params=e,this.contextifiedPhotoUrl=t.URLHelper.getPhotoPage({photoId:this.get("model").getValue("id"),pathAlias:this.get("model").getValue("owner").getValue("pathAlias"),contextSuffix:this.get("contextSuffix")}),e.photoPageUrl=this.contextifiedPhotoUrl,this},loadState:function(){var e=[];return this.set("linkedPageUrl",this.contextifiedPhotoUrl),e.push(this.appContext.getModel(this.get("engagementModelName"),this.get("id"))),t.Promise.all(e).then(function(t){var e=t[0];this.set("engagement",e)}.bind(this))},buildContainer:function(){var t={};return t.linkedPageUrl=this.get("linkedPageUrl"),t.photoUrl=this.get("photoUrl"),t.photo=this.get("model").toJSON(),this.updateGeometry(),YUI.Env.isServer||this.downloadCacheAndSetImage(),this.setContainerWithTemplate("photo-list-description",t),this},activate:function(){var t=this.subviews["photo-list-photo-interaction-view"];return t&&(t.isActive?t.updateBreakpoints():t.on("activated",function(){t.updateBreakpoints()})),this}},{ATTRS:{contextSuffix:{writeOnce:"initOnly",value:null,validator:function(e,i){return t.AttributeHelpers.validateString(e)}},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(e,i){return t.AttributeHelpers.validateString(e)}}}})},"@VERSION@",{requires:["photo-list-subview","photo-list-photo-interaction-view","hermes-template-photo-list-description","url-helper","attribute-helpers","fluid-modal-view"],optionalRequires:["fluid"],langBundles:["fave-view","common"]});