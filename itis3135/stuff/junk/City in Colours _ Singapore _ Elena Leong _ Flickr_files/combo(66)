YUI.add("flickr-groups-addBlast-updater",function(e,t){"use strict";e.namespace("ModelUpdaters")["flickr-groups-addBlast"]={run:function(a,s){var l,r,u,d,i,o={};return o.group_id=a.id,o.blast=a.blast,o.user_id=a.user,o.extras="gimme_blast",e.Promise.all([s.callAPI("flickr.groups.addBlast",o),s.getModelRegistry("group-blast-models"),s.getModel("person-models",a.user)]).then(function(t){return l=t[0],r=t[1],d=t[2],u=l.group.newBlastSecure.content,i=l.group.newBlast.content,r.setValue(a.id,"blastMessage",i),r.setValue(a.id,"blastMessageSecure",u),r.setValue(a.id,"blastDateAdded",e.moment(l.group.dateBlastAdded.toString(),"X")),r.setValue(a.id,"blastUserName",d.getValue("username")),r.setValue(a.id,"blastPathAlias",d.getValue("pathAlias")),r.setValue(a.id,"blastUserNSID",d.getValue("nsid")),r.setValue(a.id,"blastRealName",d.getValue("realname")),r.setValue(a.id,"blastUserStatus",a.status),u},e.FetcherErrorLogger(t))}}},"@VERSION@",{requires:["flickr-promise","moment"],optional:[]});YUI.add("group-blast-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{read:function(e){return t.ModelFetchers["flickr-groups-getInfo"].run(e,this.appContext)},update:function(e,r){return t.ModelUpdaters["flickr-groups-addBlast"].run(e,r)}},attributes:{blastMessage:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastMessageSecure:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastDateAdded:{validator:function(e){return t.AttributeHelpers.validateDate(e)},setter:function(e){return t.AttributeHelpers.coerceDate(e)},serialize:function(t){return t.format("X")},deserialize:function(e){return t.moment(e,"X")}},blastUserName:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastPathAlias:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastUserNSID:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastRealName:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:""},blastUserStatus:{},blastUserUrl:{readOnly:!0,derivedBy:["blastPathAlias","blastUserNSID"],defaultFn:function(t){var e=this.getValue(t,"blastPathAlias");return e||(e=this.getValue(t,"blastUserNSID")),"/photos/"+e}},blastDisplayName:{readOnly:!0,derivedBy:["blastUserName"],defaultFn:function(t){return this.getValue(t,"blastUserName")}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getInfo-fetcher","flickr-groups-addBlast-updater","attribute-helpers"]});