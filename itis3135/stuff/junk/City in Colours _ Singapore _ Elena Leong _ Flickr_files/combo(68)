YUI.add("explore-route",function(t,e){function o(t){o.superclass.constructor.call(this,t)}t.Routes[this.name]=o,t.extend(o,t.FlickrRoute,{langBundles:this.details.langBundles,run:function(e){var o,r,a,i={},n=(e.query||{}).layout||"justified",s=(e.params||{}).photo_id,l=this;return r=e.params.year?[e.params.year.toString(),e.params.month.toString(),e.params.day.toString()]:[(o=t.moment.utc().subtract({days:1,hours:4})).format("YYYY"),o.format("MM"),o.format("DD")],i.id=r.join("-"),i.apiParams={date:i.id},a={perPage:50,withPhotoId:s},this.appContext.getModel("explore-models",i,a).then(function(e){return t.Promise.resolve({view:"explore-page-view",params:{exploreId:e.id,photoListLayoutStyle:n,withPhotoId:s},title:l.intlMessage({intlName:"common.EXPLORE"}),layout:"scrolling"})},function(o){return l.displayRouteErrors(e,new t.RouteError(404,l.intlMessage({intlName:"common.404_EXPLORE_NONEXISTENT"})))})}}),t.mix(o.prototype,t.Localizable)},"@VERSION@",{requires:["flickr-route","flickr-promise","explore-models","moment"],langBundles:["common"]});