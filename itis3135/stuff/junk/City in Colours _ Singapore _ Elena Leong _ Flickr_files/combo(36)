YUI.add("group-recommended-models",function(e,t){function r(e){r.superclass.constructor.call(this,e)}require("hermes-core/flog")(t);e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{name:this.name,parseGroupModel:function(t){var r,n=[],i=new e.PhotoSizeHelper(this.appContext);return r=void 0!==t.pathAlias&&""!==t.pathAlias?t.pathAlias:t.nsid,e.each(t.photos.photo,function(t){var o,u=i.parseApiSizes(t.sizes.size,!0);o=null!==t.ownerPathAlias&&""!==t.ownerPathAlias?t.ownerPathAlias:t.ownerNsid,n.push({url:e.URLHelper.getFarmURL(t.farm,t.server,t.id,t.secret,"q"),link:e.URLHelper.getPhotoPage({photoId:t.id,pathAlias:o,contextSuffix:"pool-"+r}),sizes:u,aspectRatio:i.getPhotoAspectRatio(u)})}),{id:t.id,title:t.name,pathAlias:t.path_alias,memberCount:t.members,poolCount:t.pool_count,topicCount:t.topic_count,privacy:t.privacy,photos:n,buddyicon:e.APIHelper.response.removeProtocolFromURL(t.iconurls)}},attributes:{title:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},pathAlias:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||void 0},defaultFn:function(e){return e}},memberCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},poolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},topicCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},privacy:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return 0}},buddyicon:{},url:{derivedBy:["pathAlias"],defaultFn:function(e){return"/groups/"+(this.getValue(e,"pathAlias")||e)+"/"}},urlMembersPage:{readOnly:!0,derivedBy:["url"],defaultFn:function(e){return this.getValue(e,"url")+"members"}},urlPoolPage:{readOnly:!0,derivedBy:["url"],defaultFn:function(e){return this.getValue(e,"url")+"pool"}},urlDiscussionPage:{readOnly:!0,derivedBy:["url"],defaultFn:function(e){return this.getValue(e,"url")+"discuss"}},photos:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","api-helper","url-helper","moment","attribute-helpers"]});YUI.add("feed-rail-helper",function(e,t){require("hermes-core/flog")(t);e.FeedRailHelper=function(t,o){var r={},s=new e.PhotoCardHelper(t);return{loadRailData:function(){var e,o=this;return e={extras:this.constructExtras()},t.callAPI("flickr.feed.getRightRail",e).then(function(e){return o.parseResponse(e)}).then(function(e){return r})},parseResponse:function(t){var o=this,s=t.cards,n=[];return r={},Object.keys(s).forEach(function(e){var t=s[e],i=e in o.parseResponseData?o.parseResponseData[e]:void 0;i&&n.push(i(t).then(function(t){return r[e]=t,t}))}),e.Promise.all(n)},parseResponseData:{statsFree:function(o){var r={};new e.TimezoneHelper(t,e.moment(),"+00:00").toFormat("YYYY-MM-DD");return o&&"views"in o&&(r.viewCount=o.views),e.Promise.resolve(r)},statsPro:function(o){var r,n={},i=new e.TimezoneHelper(t,e.moment(),"+00:00").toFormat("YYYY-MM-DD");if(o&&o.photos?(n.photoItems=[],r=new e.FlickrPromise({personModelRegistry:t.getModelRegistry("person-models"),photoModelRegistry:t.getModelRegistry("photo-models"),photoEngagementModelRegistry:t.getModelRegistry("photo-engagement-models"),photoStatsModelRegistry:t.getModelRegistry("photo-stats-models")}).then(function(t){return o.photos.forEach(function(o,r){var i;if(null!==o.id)return i=e.APIHelper.response.parsePhotos({photos:[o],personModelRegistry:t.personModelRegistry,photoModelRegistry:t.photoModelRegistry,photoEngagementModelRegistry:t.photoEngagementModelRegistry,photoStatsModelRegistry:t.photoStatsModelRegistry})[0],n.photoItems.push(Object.assign({dayCounts:{views:parseInt(o.stats.views,10),faves:parseInt(o.stats.favorites,10),comments:parseInt(o.stats.comments,10)}},s.convertPhotoModel(i))),i}),n.photoItems})):r=e.Promise.resolve(),o&&"views"in o&&(n.dayCounts={views:i in o.views?o.views[i].total:0}),o&&o.graph){var a=o.graph[0]||{},l=Object.keys(a);n.graphData={},l.forEach(function(e){n.graphData[e]={date:a[e].date,day:a[e].day,ownerId:a[e].ownerId,comments:parseInt(a[e].comments,10),favs:parseInt(a[e].favs,10),views:parseInt(a[e].views,10)}})}return r.then(function(){return n})},groupRecommendations:function(t){return t?this.appContext.getModelRegistry("group-recommended-models").then(function(e){return t.map(function(t){var o=e.parseGroupModel(t);return o.url="/groups/"+o.id,o}).slice(0,2)}):e.Promise.resolve()},groupDiscussions:function(t){var o=[];return t&&t.length>0&&t.forEach(function(t){if(t.topics){var r=t.topics[0],s=t.pathAlias||t.id,n={id:e.guid(),groupId:t.id,groupName:t.name._content,iconUrls:t.iconurls,url:"/groups/"+s,topic:{id:r.id,subject:r.subject,lastPostDate:r.datelastpost,url:"/groups/"+s+"/discuss/"+r.id}};o.push(n)}}),e.Promise.resolve(o)},explore:function(t){var o=[];return t?this.appContext.getModelRegistry("photo-lite-models").then(function(r){var n=t.map(function(t){var o=e.APIHelper.response.parsePhotoLite(t);return r.addOrUpdate(o)});return o=n.map(function(e){return s.convertPhotoModel(e)})}):e.Promise.resolve()},blog:function(t){var o={};return o={id:"latest",blogId:t.guid,title:t.title,date:t.date,link:t.link,description:t.description,photoId:t.photoId,photoData:{id:t.photo.id,title:t.photo.title,description:t.photo.description,sizes:e.APIHelper.response.parsePhotoSize(t.photo.sizes.size,!0)}},e.Promise.resolve(o)},static:function(t){var o={};return o={id:"latest",title:t.title,subtitle:t.subtitle,link:t.link,description:t.content,photoId:t.photoId,photoData:{id:t.photo.id,title:t.photo.title,description:t.photo.description,sizes:e.APIHelper.response.parsePhotoSize(t.photo.sizes.size,!0),owner:{displayname:t.photo.ownername}}},e.Promise.resolve(o)}},constructExtras:function(){var t,o="";return o=e.APIHelper.request.getRebootPhotoExtras(),o+=",can_addmeta,can_comment,can_download,can_share,contact,count_comments,count_faves,count_views,date_taken,date_upload,description,icon_urls_deep,isfavorite,ispro,license,media,needs_interstitial,owner_name,owner_datecreate,path_alias,perm_print,realname,rotation,safety_level,secret_k,secret_h,url_sq,url_q,url_t,url_s,url_n,url_w,url_m,url_z,url_c,url_l,url_h,url_k,url_3k,url_4k,url_f,url_5k,url_6k,url_o,visibility,visibility_source,o_dims,publiceditability",o+=",icon_urls, sizes",o+=",icon_urls",t=o.split(","),t=t.filter(function(e,o){return t.indexOf(e)===o}),o=t.join(",")}}}},"@VERSION@",{requires:["api-helper","group-recommended-models"],langBundles:["common"]});YUI.add("hermes-template-slim-footer",function(e,n){var a=e.Template.Handlebars.revive({1:function(e,n,a,l,t){var s,o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return null!=(s=o(a,"if").call(null!=n?n:e.nullContext||{},null!=n?o(n,"requiresCookieConsent"):n,{name:"if",hash:{},fn:e.program(2,t,0),inverse:e.program(4,t,0),data:t,loc:{start:{line:12,column:2},end:{line:16,column:9}}}))?s:""},2:function(e,n,a,l,t){var s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t\t<a class="trustarc-cookie-pref-butt">'+e.escapeExpression((s(a,"intlMessage")||n&&s(n,"intlMessage")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:t,loc:{start:{line:13,column:40},end:{line:13,column:87}}}))+"</a>\n"},4:function(e,n,a,l,t){var s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\t\t\t<a href="/help/cookies">'+e.escapeExpression((s(a,"intlMessage")||n&&s(n,"intlMessage")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:t,loc:{start:{line:15,column:27},end:{line:15,column:74}}}))+"</a>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,a,l,t){var s,o=null!=n?n:e.nullContext||{},r=e.hooks.helperMissing,i=e.escapeExpression,c=e.lambda,m=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="slim-footer">\n\t<a href="/about" data-track="footer-about">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:t,loc:{start:{line:2,column:44},end:{line:2,column:83}}}))+'</a>\n\t<a href="/jobs" data-track="footer-jobs">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:t,loc:{start:{line:3,column:42},end:{line:3,column:80}}}))+'</a>\n\t<a href="//blog.flickr.net/en" data-track="footer-blog">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:t,loc:{start:{line:4,column:57},end:{line:4,column:95}}}))+'</a>\n\t<a href="/services/developer" data-track="footer-developers">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:t,loc:{start:{line:5,column:62},end:{line:5,column:106}}}))+'</a>\n\t<a href="/help/guidelines" data-track="footer-guidelines">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:t,loc:{start:{line:6,column:59},end:{line:6,column:103}}}))+'</a>\n\t<a href="//flickrhelp.com" data-track="footer-help">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:t,loc:{start:{line:7,column:53},end:{line:7,column:91}}}))+'</a>\n\t<a href="/help/forum" data-track="footer-forum">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:t,loc:{start:{line:8,column:49},end:{line:8,column:93}}}))+'</a>\n\t<a href="/help/privacy" data-track="footer-privacy">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:t,loc:{start:{line:9,column:53},end:{line:9,column:94}}}))+'</a>\n\t<a href="/help/terms" data-track="footer-terms">'+i((m(a,"intlMessage")||n&&m(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:t,loc:{start:{line:10,column:49},end:{line:10,column:88}}}))+"</a>\n"+(null!=(s=(m(a,"isFlipped")||n&&m(n,"isFlipped")||r).call(o,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t,loc:{start:{line:11,column:1},end:{line:17,column:15}}}))?s:"")+'\t<div class="foot-li lang-switcher">\n\t\t<a href="/change_language.gne?lang='+i(c(null!=(s=null!=n?m(n,"selectedLang"):n)?m(s,"code"):s,n))+"&csrf="+i(c(null!=(s=null!=n?m(n,"selectedLang"):n)?m(s,"csrf"):s,n))+'" data-track="footer-language">'+i(c(null!=(s=null!=n?m(n,"selectedLang"):n)?m(s,"name"):s,n))+'</a>\n\t\t<div class="arrow">\n\t\t\t<svg class="icon icon-caret-down"><use xlink:href="#icon-caret-down"></use></svg>\n\t\t</div>\n\t </div>\n</div>\n\t\n'},useData:!0}),l={};e.Array.each([],function(n){var a=e.Template.get("hermes/"+n);a&&(l[n]=a)}),e.Template.register("hermes/slim-footer",function(n,t){return t=t||{},t.partials=t.partials?e.merge(l,t.partials):l,a(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("dropdown",function(e){"use strict";var t;t={css:{closed:"ui-dropdown-closed",shim:"ui-dropdown-shim",label:'span[data-action="toggle"]',items:"[data-value]",itemSelected:"ui-dropdown-item-selected",hasDialogArrow:"ui-dropdown-has-dialog-arrow",dialogArrow:"ui-dialog-arrow",useCheckMarks:"ui-dropdown-use-checkboxes"},options:{hasDialogArrow:!1,useCheckMarks:!1}},e.namespace("Views").Dropdown=e.Base.create("Dropdown",e.FlickrView,[],{initializer:function(e){!1!==e.activate&&this.activate()},activate:function(){var s,i=this,a=this.get("container");if(this.close(),this._items={},e.Lang.isArray(this.get("selected"))||this.set("selected",[this.get("selected")]),a.all(t.css.items).each(function(e){var t=e.getData();i._items[t.value]={text:t.text||'no data-text for "'+t.value+'"',sub:t.sub,node:e}}),this.labelEl=a.one(t.css.label),this.labelEl||(this.labelEl=e.Node.create('<span class="truncate" data-action="toggle" tabindex="0" aria-haspopup="true" aria-expanded="false" />'),a.insert(this.labelEl,0)),(s=this.get("staticLabel")||this.get("defaultLabel"))&&(!0===s?this.labelEl.set("text","set staticLabel/defaultLabel to a string, not `true`"):this.labelEl.set("text",s)),this.get("hasDialogArrow")&&!a.hasClass(t.css.hasDialogArrow)&&a.addClass(t.css.hasDialogArrow),a.hasClass(t.css.hasDialogArrow)&&(this.dialogArrowEl=a.one(t.css.dialogArrow),this.dialogArrowEl||(this.dialogArrowEl=e.Node.create('<span class="ui-dialog-arrow" />'),a.insert(this.dialogArrowEl,1))),this.get("useCheckMarks")&&!a.hasClass(t.css.useCheckMarks)&&a.addClass(t.css.useCheckMarks),this.select(),this.get("disabled"))return this.disable();this.attachEvents({":toggle":this.toggle.bind(this),":set":this.setData.bind(this)}),this.registerEventHandler(this.labelEl.on("key",this.toggle,"down:13",this)),this.registerEventHandler(this.labelEl.on("key",this.enterDropdown,"down:40",this));var l=this.labelEl.next("ul");l&&(this.registerEventHandler(l.on("keydown",this.keyboardNavigation,this)),this.registerEventHandler(l.delegate("key",function(e){document.activeElement.dataset&&this.setData(e,document.activeElement.dataset)},"down:13","li",this)))},setData:function(t,s){if(t.halt(),!this.get("multiSelect")&&!this.get("multiSelectSub")&&e.Array.indexOf(this.get("selected"),s.value)>=0)return this.close();this.select(s.value,s)},select:function(s,i,a){var l,n=this,h=s?this._items[s]:null,o=!0,c=[];h&&e.Array.indexOf(this.get("selected"),s)>=0&&(this.get("multiSelect")||this.get("multiSelectSub"))?(c=this.get("selected"),!h.sub&&this.get("multiSelect")&&c.length>this.get("minimumSelected")?(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1):h.sub&&(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1),this.set("selected",c)):h&&(h.sub?(c.push(s),this.get("selectParent")&&c.push(h.sub),e.Array.each(this.get("selected"),function(e){n._items[e].sub===h.sub?c.push(e):n.get("multiSelect")&&!n._items[e].sub&&c.push(e)})):this.get("multiSelect")?(c=this.get("selected")).push(s):c.push(s),this.set("selected",c)),a||this.close(),l={clicked:h?{text:h.text,value:s,sub:h.sub,itemEl:h.node,isChecked:o}:null,data:i,selections:c},this.fire("selected",l),this.update(s,l,t)},update:function(t,s,i){var a=this,l=s.clicked,n=this.get("selected"),h=this.get("defaultLabel")||"[Unable to select a default item]";this.get("staticLabel")||(this.get("labelFunction")?h=this.get("labelFunction").apply(this,[t]):l?h=s.data&&s.data.text&&s.data.text!==l.text?s.data.text:l.text:n.length>0&&a._items[n[0]]&&(h=a._items[n[0]].text),this.labelEl.set("textContent",h||"[!empty data-text!]")),this.get("container").all(i.css.items).removeClass(i.css.itemSelected),e.Array.each(n,function(e){a._items[e]&&a._items[e].node.addClass(i.css.itemSelected)})},toggle:function(e){e&&e.halt(),this._open?this.close(e):this.open(e)},open:function(e){var s=this.get("container"),i=0;this._open=!0,this.get("shouldCreateShim")&&this._shimUp(),s.removeClass(t.css.closed),this.get("autoSizeMenu")&&(i=parseInt(this.labelEl.getComputedStyle("width"),10))+30>parseInt(s.one("ul").getComputedStyle("width"),10)&&s.one("ul").setStyles({width:i+30}),e&&e.silent||this.fire("open",e);var a=s.one("span:first-child");a&&a.setAttribute("aria-expanded","true")},close:function(e){var s=this.get("container");e&&e.halt(),this._open=!1,this._shimUp(!1),this.fire("close",e),s.addClass(t.css.closed);var i=this.labelEl;i&&i.setAttribute("aria-expanded","false")},enterDropdown:function(e){e.preventDefault();var t=this.labelEl.next("ul").one("li");t&&t.focus()},keyboardNavigation:function(e){var t=e.keyCode,s=38===t||9===t&&e.shiftKey,i=40===t||9===t&&!e.shiftKey,a=e.target.ancestor("li",!0);s&&a&&a.previous("li")?(e.preventDefault(),this.focusOnPreviousItem(e)):i?(e.preventDefault(),a&&a.next("li")&&this.focusOnNextItem(e)):(27===t||s)&&(e.preventDefault(),this.labelEl&&(this.labelEl.focus(),this.close()))},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.previous("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.next("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},_shimUp:function(s){if(!1===s){if(!this._shim)return;return this._shim.detach("click").remove(),void(this._shim=null)}this._shim=e.Node.create("<div />"),this._shim.addClass(t.css.shim),this._shim.on("click",this.close.bind(this)),this.get("container").appendChild(this._shim)},disable:function(){var e=this.get("container");this.set("disabled",!0),this.close(),e.addClass(t.css.disabled),e.detach()},destructor:function(){this._shimUp(!1),this._items=null,this.labelEl=null,this.set("selected",null),this.detachAll()}},{ATTRS:{selected:{value:[]},disabled:{value:!1},hasDialogArrow:{value:!1},useCheckMarks:{value:!1},multiSelect:{value:!1},multiSelectSub:{value:!1},selectParent:{value:!0},minimumSelected:{value:0},staticLabel:{value:!1},defaultLabel:{value:!1},labelFunction:function(){},shouldCreateShim:{value:!0},autoSizeMenu:{value:!0}}})},"@VERSION@",{requires:["flickr-view"]});YUI.add("footer-helper",function(e,n){require("hermes-core/flog")(n);var r=["en-US","zh-HK","de-DE","es-US","fr-FR","ko-KR","it-IT","pt-BR","vn-VN","id-ID"],o={"en-US":"English","de-DE":"Deutsch","es-US":"Español","fr-FR":"Français","ko-KR":"한글","it-IT":"Italiano","pt-BR":"Português","vn-VN":"Tiếng Việt","id-ID":"Bahasa Indonesia","zh-HK":"繁體中文"};e.FooterHelper=function(n,a){var t,s,i,d,u,c=[],l=n.lang;for(d=n.auth&&n.auth.csrf?n.auth.csrf:"","vi-vn"===l.toLowerCase()&&(l="vn-VN"),u={code:l,name:o[l],csrf:d},s=0,i=r.length;s<i;s++)r[s]!==l&&"string"==typeof r[s]&&c.push({code:r[s].toLowerCase(),name:o[r[s]],csrf:d});t=c.map(function(e){return{href:"/change_language.gne?lang="+e.code+"&csrf="+e.csrf,text:e.name}});var f={createDropAround:function(r,o){var a,s;(s=r.one("a")).addClass("dimmed"),(a=new e.Views.FluidDroparound({appContext:n,showDropArrow:!0,observePageResize:!0,dismissOnOverlayClick:!0,anchorElement:r.one(".arrow"),classList:"lang-droparound",menuItems:t})).show(),o.registerEventHandler(a.on("closeDroparound",function(e){s.removeClass("dimmed")}))},getTemplateParams:function(){return{selectedLang:u,helpLocaleKey:u.code.replace("-","_")||"en_US",menuLangs:c}}};return e.augment(f,e.EventTarget),f}},"@VERSION@",{requires:["dropdown","fluid-droparound-view","event-custom"]});YUI.add("slim-footer-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.footerHelper=new e.FooterHelper(this.appContext,{}),this},buildContainer:function(){var t;return this.get("viewer")&&e.merge(this.get("viewer").toJSON(),{urls:e.URLHelper.generatePersonUrls(this.get("viewer"))}),t=this.footerHelper.getTemplateParams(),YUI.Env.isServer?t.pageUrl=this.appContext.request.url:t.pageUrl=window.location.pathname,t.requiresCookieConsent=!0,this.appContext.flipper.isFlipped("enable-geoblock-cookie-consent")&&(t.requiresCookieConsent=this.appContext.requiresCookieConsent),this.setContainerWithTemplate("slim-footer",t),this},activate:function(){var e,t=this,r=this.get("container");return this.registerEventHandler(r.delegate("click",function(r){e=r.target.ancestor(".lang-switcher",!0),r.preventDefault(),t.footerHelper.createDropAround(e,t)},".lang-switcher")),this}})},"@VERSION@",{requires:["flickr-view","hermes-template-slim-footer","url-helper","footer-helper"],langBundles:["common","policy-terms"]});YUI.add("hermes-lang-policy-terms",function(o,O){o.Intl.add("hermes/policy-terms","en-US",{DOWNLOAD_TERMS_OF_SERVICE:["Download Terms of Service"],DOWNLOAD_PRIVACY_POLICY:["Download Privacy Policy"],DOWNLOAD_API_TERMS:["Download API Terms of Service"],DOWNLOAD_COMMUNITY_GUIDELINES:["Download Community Guidelines"],DOWNLOAD_COOKIE_POLICY:["Download Cookie Policy"],DOWNLOAD_DATA_PROCESSING_POLICY:["Download Data Processing Policy"],POLICIES_AND_GUIDELINES:["Policies & Guidelines"],TERMS:["Terms"],PRIVACY:["Privacy"],API:["API"],COMMUNITY:["Community"],COOKIES:["Cookies"],DATA_PROCESSING:["Data Processing"]})},"@VERSION@",{requires:["intl"]});YUI.add("feed-rail-view",function(e,t){var i=require("hermes-core/flog")(t);e.namespace("Views")[this.name]=e.Base.create("feed-rail-view",e.FlickrView,[],{langBundles:this.details.langBundles,subviewConfig:{"slim-footer-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0}},initializer:function(t){this.params=t,this.railItems=[],this.railCardViews={},this.feedRailHelper=new e.FeedRailHelper(this.appContext),this.railCardOrderKeys=["statsPro","statsFree","groupDiscussions","explore","groupRecommendations","blog","static","ad"]},loadState:function(){return e.Promise.resolve()},buildContainer:function(){this.setContainerWithTemplate("feed-rail",{})},activate:function(){var e=this,t=this.get("container");return this.railItemsContainerNode=t.one(".rail-items-container"),this.railContentContainer=t.one(".feed-rail-content-container"),this.dummyLoaderNode=t.one(".dummy-loader"),this.feedRailHelper.loadRailData().then(function(t){return e.railItems=t,e.getSubviews()}).then(function(){return e.toggleLoading(!1),e.insertSubviews()})},getSubviews:function(){var t=this,i=[],r={};return t.railItems.statsPro?(r={statsConfig:t.railItems.statsPro},i.push(this.appContext.getView("stats-rail-card-view",r).then(function(e){return t.railCardViews.statsPro=e,e}).catch(function(e){return e}))):t.railItems.statsFree&&(r={statsConfig:t.railItems.statsFree},i.push(this.appContext.getView("stats-rail-card-view",r).then(function(e){return t.railCardViews.statsFree=e,e}).catch(function(e){return e}))),t.railItems.groupDiscussions&&(r={groupItems:t.railItems.groupDiscussions},i.push(this.appContext.getView("group-discussion-rail-card-view",r).then(function(e){return t.railCardViews.groupDiscussions=e,e}).catch(function(e){return e}))),t.railItems.explore&&(r={photoItems:t.railItems.explore},i.push(this.appContext.getView("explore-rail-card-view",r).then(function(e){return t.railCardViews.explore=e,e}).catch(function(e){return e}))),t.railItems.groupRecommendations&&(r={groupRecs:t.railItems.groupRecommendations},i.push(this.appContext.getView("group-recs-rail-card-view",r).then(function(e){return t.railCardViews.groupRecommendations=e,e}).catch(function(e){return e}))),t.railItems.blog&&(r={blogItem:t.railItems.blog},i.push(this.appContext.getView("blog-rail-card-view",r).then(function(e){return t.railCardViews.blog=e,e}).catch(function(e){return e}))),t.railItems.static&&(r={staticContentItem:t.railItems.static},i.push(this.appContext.getView("static-content-rail-card-view",r).then(function(e){return t.railCardViews.static=e,e}).catch(function(e){return e}))),this.appContext.getViewer().isPro||i.push(this.appContext.getView("ad-rail-card-view",{}).then(function(e){return t.railCardViews.ad=e,e}).catch(function(e){return e})),e.Promise.all(i)},insertSubviews:function(){var t=this,r=[],a=[];return this.railCardOrderKeys.forEach(function(e){var i=t.railCardViews[e];if(i){var n={cardView:i,theme:"ad"===e?"flat":void 0};a.push(n),r.push(i.initialize().catch(function(e){return a.splice(a.indexOf(n),1),e}))}}),e.Promise.all(r).then(function(){var r=[];return a.forEach(function(a){var n=e.Node.create('<div class="rail-item"></div>');a.theme&&n.addClass(a.theme),n.append(a.cardView.get("container")),t.railItemsContainerNode.append(n),r.push(new e.Promise(function(e,t){return a.cardView.activate()}).catch(function(e){i.error("Error inserting rail card",{err:e}),a.cardView.destroy({remove:!0}),n.remove()}))}),e.Promise.all(r)})},toggleLoading:function(e){this.railContentContainer.toggleClass("invisible",e),this.dummyLoaderNode.toggleClass("hidden",!e)}})},"@VERSION@",{requires:["flickr-view","stats-rail-card-view","group-recs-rail-card-view","group-discussion-rail-card-view","explore-rail-card-view","blog-rail-card-view","static-content-rail-card-view","ad-rail-card-view","hermes-template-feed-rail","feed-rail-helper","slim-footer-view"],langBundles:["common","feed"]});YUI.add("hermes-template-feed-column-dummy-loader",function(t,i){var s=t.Template.Handlebars.revive({1:function(t,i,s,d,n){return'\t\t<div class="layout-container large">\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},3:function(t,i,s,d,n){return'\t\t<div class="layout-container medium">\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 60%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="item" style="width: 35%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 35%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="item" style="width: 60%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 60%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="item" style="width: 35%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 100%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="item" style="width: 35%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="item" style="width: 60%">\n\t\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t\t<div class="box ava" style="width: 32px; height: 32px"></div>\n\t\t\t\t\t\t<div class="attribution-details">\n\t\t\t\t\t\t\t<div class="box" style="width: 40%; height: 12px"></div>\n\t\t\t\t\t\t\t<div class="box" style="width: 20%; height: 12px"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="batch-section">\n\t\t\t\t\t\t<div class="box"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},5:function(t,i,s,d,n){return'\t\t<div class="layout-container compact">\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row partial">\n\t\t\t\t\t\t<div class="box" style="width: 20%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 10%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row partial">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 20%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 10%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="box" style="width: 10%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 20%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 20%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 10%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row partial">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 20%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 10%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item">\n\t\t\t\t<div class="attribution-section">\n\t\t\t\t\t<div class="box ava" style="width: 24px; height: 24px"></div>\n\t\t\t\t\t<div class="box" style="width: 20%; height: 16px"></div>\n\t\t\t\t\t<div class="box" style="width: 10%; height: 16px"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="batch-section">\n\t\t\t\t\t<div class="row partial">\n\t\t\t\t\t\t<div class="box" style="width: 25%"></div>\n\t\t\t\t\t\t<div class="box" style="width: 15%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,i,s,d,n){var v,l=null!=i?i:t.nullContext||{},a=t.hooks.helperMissing,e=t.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return'<div class="feed-column-dummy-loader dummy-loader">\n'+(null!=(v=(e(s,"ifCond")||i&&e(i,"ifCond")||a).call(l,null!=i?e(i,"layoutType"):i,"===","large",{name:"ifCond",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n,loc:{start:{line:5,column:1},end:{line:78,column:12}}}))?v:"")+(null!=(v=(e(s,"ifCond")||i&&e(i,"ifCond")||a).call(l,null!=i?e(i,"layoutType"):i,"===","medium",{name:"ifCond",hash:{},fn:t.program(3,n,0),inverse:t.noop,data:n,loc:{start:{line:79,column:1},end:{line:214,column:12}}}))?v:"")+(null!=(v=(e(s,"ifCond")||i&&e(i,"ifCond")||a).call(l,null!=i?e(i,"layoutType"):i,"===","compact",{name:"ifCond",hash:{},fn:t.program(5,n,0),inverse:t.noop,data:n,loc:{start:{line:215,column:1},end:{line:326,column:12}}}))?v:"")+"</div>"},useData:!0}),d={};t.Array.each([],function(i){var s=t.Template.get("hermes/"+i);s&&(d[i]=s)}),t.Template.register("hermes/feed-column-dummy-loader",function(i,n){return n=n||{},n.partials=n.partials?t.merge(d,n.partials):d,s(i,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});