YUI.add("flickr-activity-muteObject-updater",function(e,t){"use strict";e.namespace("ModelUpdaters")["flickr-activity-muteObject"]={run:function(r,c){var i=r;return c.callAPI("flickr.activity.muteObjectByType",i).then(null,e.FetcherErrorLogger(t))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-activity-unmuteObject-updater",function(e,t){"use strict";e.namespace("ModelUpdaters")["flickr-activity-unmuteObject"]={run:function(r,c){var i=r;return c.callAPI("flickr.activity.unmuteObjectByType",i).then(null,e.FetcherErrorLogger(t))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("person-notifications-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{read:function(e){return t.ModelFetchers["flickr-people-getInfo"].run(e,this.appContext)},readUnseenNotificationCount:function(e,n){return t.ModelFetchers["flickr-activity-getNotificationsCount"].run(e,n)},updateMutedObjects:function(e,n){return t.ModelUpdaters["flickr-activity-muteObject"].run(e,n)},updateUnmutedObjects:function(e,n){return t.ModelUpdaters["flickr-activity-unmuteObject"].run(e,n)}},remoteReadUnseenNotificationCount:function(t,e,n){return this.setValue(t,"unseenLastFetchedTimestamp",Date.now()),this.remote.readUnseenNotificationCount(e,n)},remoteUpdateMutedObjects:function(t,e,n){var r=this;return this.remote.updateMutedObjects(e,n).then(function(e){return r.setValue(t,"muteChanged",!0),e})},remoteUpdateUnmutedObjects:function(t,e,n){var r=this;return this.remote.updateUnmutedObjects(e,n).then(function(e){return r.setValue(t,"muteChanged",!0),e})},getNotificationsByContinuation:function(e,n){var r=Object.assign(n,{id:e});return t.ListFetchers["flickr-activity-recentByType"].run(r,this.appContext)},attributes:{id:{setter:function(t){return t||this.appContext.getViewer().nsid}},unseenNotificationCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)},defaultValue:0},unseenNotificationCounts:{},unreadFlickrMailCount:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)},defaultValue:0},unseenLastFetchedTimestamp:{validator:function(e){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)},defaultValue:0},muteChanged:{validator:function(e){return t.AttributeHelpers.validateBoolean(e)},setter:function(e){return t.AttributeHelpers.coerceBoolean(e)},defaultValue:!1},initialNotificationsData:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-activity-recentByType-fetcher","flickr-notifications-markread-updater","flickr-people-getInfo-fetcher","flickr-activity-getNotificationsCount-fetcher","flickr-activity-muteObject-updater","flickr-activity-unmuteObject-updater","attribute-helpers"]});YUI.add("flickr-activity-recentByType-fetcher",function(t,e){"use strict";t.namespace("ListFetchers")["flickr-activity-recentByType"]={run:function(i,o){var n=this,s=this._processParams(i);return new t.FlickrPromise({apiResponse:o.callAPI("flickr.activity.recentByType",s),notificationModelRegistry:o.getModelRegistry("notification-models"),notificationsModelRegistry:o.getModelRegistry("person-notifications-models")}).then(function(t){return n._processResponse(t,i,s,o)},t.FetcherErrorLogger(e))},_processParams:function(e){var i={extras:["sizes","icon_urls","ignored","rev_ignored","tags","autotags","datecreate"].join(",")+","+t.APIHelper.request.getRebootPhotoExtras(),count:30,per_object:12,secure_image_embeds:1,max_users:2,notification_groups:e.notificationGroups||"default"};return e.muteFilter&&(i.mute_filter=e.muteFilter),e.onlyGroupId&&(i.only_group_id=e.onlyGroupId),"continuation"in e?i.continuation=e.continuation:"page"in e&&(i.page=e.page,i.per_page=e.perPage),i},_processResponse:function(e,i,o,n){var s=e.apiResponse,a=e.notificationModelRegistry,r=e.notificationsModelRegistry,c=[],u=new t.NotificationsHelper(n);return s.items?(s.items.item.forEach(function(e){var i=e.events||[],o={id:t.guid(),isSeen:1===e.seen||!0===e.seen,isMuted:!!e.is_muted,type:e.type,timestamp:e.date,activityData:e,eventDataList:i};c.push(u.extractEntitiesFromResponse(o).then(function(t){var o={id:e.id,isSeen:e.seen,isMuted:!!e.is_muted,type:e.type,timestamp:e.date,activityData:e,eventDataList:i,userModels:t.userModels,activityEntityModels:t.activityEntityModels,eventEntityModelsList:t.eventEntityModelsList};return a.addOrUpdate(o)}))}),t.Promise.all(c).then(function(t){var e,n,a,c={id:i.id};return"continuation"in o?(e=r.addOrUpdate(c),"0"===o.continuation&&(n=e.getValue("initialNotificationsData")||{},a="notificationGroups="+i.notificationGroups,i.muteFilter&&(a+="&muteFilter="+i.muteFilter),i.onlyGroupId&&(a+="&onlyGroupId="+i.onlyGroupId),n[a]=n[a]||{token:s.continuation,list:t},e.setValue("initialNotificationsData",n)),{notificationModels:t,continuation:s.continuation}):"page"in o?(r.exists(i.id)?r.getValue(i.id,"notifications").addPage({page:o.page,perPage:o.per_page,pageContent:t,totalItems:parseInt(s.items.total||0,10)}):(c.notifications=t,r.add(c)),t):void 0})):t.Promise.resolve(Object.assign(s,{notificationModels:[]}))}}},"@VERSION@",{requires:["flickr-promise","search-helper","querystring-parse-simple"],optional:["url-helper","notification-models","person-notifications-models","contact-models","photo-models","notification-models"]});YUI.add("feed-list-models",function(e,t){function r(e){r.superclass.constructor.call(this,e)}e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,attributes:{feedList:[],beforeCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:void 0},afterCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:void 0},expireTime:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:void 0}}},{})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise"],langBundles:["models"]});YUI.add("hermes-lang-blurb",function(o,r){o.Intl.add("hermes/blurb","en-US",{ALL_NEW_BOOKS_HEADER:["All-new photos books from Blurb"],ALL_NEW_BOOKS_SUBHEADER_PRO:["Get $35 off your Blurb® purchase.* Use your discount code below at checkout."],ALL_NEW_BOOKS_SUBHEADER_NONPRO:['Get $35 off your Blurb® purchase.* <a href="',"${url}",'">Learn more</a>'],GET_DISCOUNT_WITH_PRO:["Get $35 off with your Flickr Pro subscription"],PRINT_WITH_BLURB:["Print your photo books with Blurb®."],ASTERIX:["* With minimum purchase of $70. Offer available for 1-year and 2-year Flickr Pro subscriptions. Discount available once per year."],ASTERIX_V2:["* Get $35 dollars off your Photo Book purchase up to 4 times a year! Valid for orders of $70 or more when you're on an annual Flickr Pro plan."],ASTERIX_MINIMUM:["* With minimum purchase of $70."],ALL_NEW_BOOKS_SUBHEADER_2:["Use your discount code below at checkout."],LAUNCH_BlURB_BOOKIFY:["Launch Blurb Bookify"],CUSTOMIZE_BOOK_HEADER:["Customize your book."],MAKE_A_BOOK:["Make a book"],COLUMNS_CREATE:["Create."],COLUMNS_CREATE_TEXT:["Connect your Flickr account to Blurb and start your book. You can easily import your photostream and albums into the book layout."],COLUMNS_PRINT:["Print."],COLUMNS_PRINT_TEXT:["Get all the options you need for your project, including digital output, print on demand, and offset printing. Plus, choose from a wide range of paper options. It’s all up to you."],COLUMNS_SELL:["Sell."],COLUMNS_SELL_TEXT:['Choose from a range of distribution options, including Amazon, Ingram, and the Blurb Bookstore. As a Flickr Pro, you can now promote your books on Flickr as well. <a href="',"${url}",'">Learn more</a>'],COLUMNS_CUSTOMIZE:["Customize."],COLUMNS_CUSTOMIZE_TEXT:["Take advantage of Blurb’s many sizes, paper choices, and styles. Unleash your creativity with captions, text, and countless photo layouts."],ANOTHER_STUNNING_SHOT:["Another stunning photo shoot!"],WANT_MORE_CREATIVE:["Want more creative control?"],USE_FAVORITE_TOOLS:["Use your favorite Adobe & PDF tools."],CREATIVE_TEXT:['Lay out your book, magazine, or ebook with your favorite tools. Get easy print setup with Blurb’s plug-in for Adobe InDesign and Adobe Lightroom Book Module. Or, design with any app and use Blurb’s PDF uploader. <a href="',"${url}",'">Learn more</a>'],BLURB_SHARE:["Share."],BLURB_SHARE_TEXT:["Once you receive your Blurb book, share it with the Flickr community. Join the official Blurb Books group on Flickr and inspire others with your creations."],BLURB_BULLET_LIST_ONE:["1"],BLURB_BULLET_LIST_SECOND:["2"],BLURB_BULLET_LIST_THIRD:["3"],UPGRADE_TO_PRO_BTN:["Upgrade to Pro"],UPGRADE_YOUR_PRO_BTN:["Upgrade your Pro"],COPY_BLURB_CODE:["Copy"],COPY_COPIED:["Copied!"],PHOTO_BOOKS:["Photo Books"],PRO_BLURB_SECTION_TEXT:["Use Blurb's free book-creation tools for complete creative control. Get $35 off your first Blurb purchase with a yearly Pro subscription (minimum $70 Blurb purchase)."],BLURB_PRODUCT_PROMO_DESCRIPTION_TEXT:["Use Blurb's free book-creation tools for complete creative control. Get $35 dollars off your Photo Book purchase up to 4 times a year. Valid for orders of $70 or more."]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-fave-view",function(e,t){e.Intl.add("hermes/fave-view","en-US",{COULDNT_FAVE:["We couldn't fave at this time"],SIGN_IN_TO_FAVE:["You must be signed in to fave. Please sign in now."],LOADING_FAVES:["Loading Faves..."],UNFAVE_PHOTO:["Unfave this photo"],FAVE_PHOTO:["Fave this photo"],WHO_FAVED:["Who faved this photo"],SIGN_IN_BEFORE_FAVE_TITLE:["You found a photo to fave!"],SIGN_IN_BEFORE_FAVE_MESSAGE:["That's great. Just sign in to fave it."],SIGN_IN_AND_FAVE:["Sign in and fave"],JOIN_FLICKR_AND_FAVE:["Join Flickr to add this photo to your favorites."]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-comments",function(e,o){e.Intl.add("hermes/comments","en-US",{LOADING:["Loading"],MORE:["more"],ERROR_LOADING_COMMENTS:["Error loading comments"],COULDNT_POST_COMMENT:["We couldn't post your comment"],COULDNT_GET_MORE_COMMENTS:["We couldn't get more comments"],CONFIRM_DELETE:["Confirm Delete"],YES_CONFIRM_DELETE:["Yes, Delete It"],ARE_YOU_SURE_DELETE:["Are you sure you want to delete this comment?"],COULDNT_DELETE_COMMENT:["We couldn't delete your comment"],ERROR:["Error!"],NO_COMMENTS:["No comments"],ADD_A_COMMENT:["Add a comment"],LOGIN_TO_COMMENT:["Login to comment"],MUST_BE_LOGGED_IN_TO_COMMENT:["You must be logged in to post a comment"],LOADING_COMMENTS:["Loading comments..."],SEE_MORE:["See more"],SEE_MORE_LINK:['... <a href="',"${photoUrl}",'">Read more</a>'],SIGNUP_MODAL_TITLE:["Comment on this photo!"],SIGNUP_MODAL_MESSAGE:["Join Flickr to leave a comment on this photo"],VIEW_COMMENTS:["View Comments"],COMMENTING_DISABLED:["Commenting is disabled for this photo."],VIEW_ON_PHOTO_PAGE:["View all comments on the photo page"],ADD_GALLERY_COMMENT:["Add a comment about this gallery"],ADD_PHOTO_COMMENT:["Add a comment about this ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],SELECT_EMOJI:["Select emoji"]})},"@VERSION@",{requires:["intl"]});